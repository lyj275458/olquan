webpackJsonp([20,52],{110:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;t.default={props:["Time"],data:function(){return{time:this.Time,day:"",hour:"",mint:"",secon:"",EndTime:0,shuaxin:0}},components:{},created:function(){this.moveTime()},methods:{getRtime:function(){function e(e){return e<10&&(e="0"+e),e}var t=this.EndTime,o=new Date,i=t-o.getTime(),s=0,a=0,r=0,n=0;i>=0&&(s=e(Math.floor(i/1e3/60/60/24)),a=e(Math.floor(i/1e3/60/60%24)),r=e(Math.floor(i/1e3/60%60)),n=e(Math.floor(i/1e3%60))),this.day=s,this.hour=a,this.mint=r,this.secon=n},moveTime:function(){var e=this;e.EndTime=e.time+(new Date).getTime(),console.log(e.time),console.log((new Date).getTime()),console.log(e.EndTime),o=setInterval(e.getRtime,0)}}}},127:function(e,t,o){t=e.exports=o(4)(),t.push([e.id,".timeEnd[data-v-d8225204]{font-size:.24rem;display:inline-block;width:1.7rem;line-height:.36rem}.timeEnd b[data-v-d8225204]{padding:0 .05rem;background:#000;display:inline-block;width:.3rem;color:#fff;font-weight:400}",""])},139:function(e,t,o){var i=o(127);"string"==typeof i&&(i=[[e.id,i,""]]);o(5)(i,{});i.locals&&(e.exports=i.locals)},143:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",{staticClass:"timeEnd"},[o("b",[e._v(e._s(e.hour))]),e._v(" : "),o("b",[e._v(e._s(e.mint))]),e._v(" : "),o("b",[e._v(e._s(e.secon))])])},staticRenderFns:[]}},146:function(e,t,o){o(139);var i=o(2)(o(110),o(143),"data-v-d8225204",null);e.exports=i.exports},579:function(e,t,o){o(1388);var i=o(2)(o(706),o(1493),"data-v-9a9d6bc0",null);e.exports=i.exports},706:function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(146),a=i(s);t.default={data:function(){return{shengTimeImg:"/static/images/shengtime.png",goodsImg:"/static/images/goodsImg.png",colckImg:"/static/images/clock.png",dianImg:"/static/images/dian.png",rowtopImg:"/static/images/row.png",soldImg:"/static/images/soldOut.png",xuanzhong:0,perWidth:0,type:1,curObj:[],day:"",hour:"",mint:"",secon:"",time:"",showBuy:!1,scrollTop:0,isMore:!0,pageObj:{page:1},togetherHour:0,curTargetSm:0,curTargetS:0,curTargetSon:0,shareData:{title:"OL圈拼团",description:"限时秒杀 速度来抢",url:"",picURL:"http://ol-h5-preview.olquan.cn/static/images/pinpin.png",hide:!0,share:!1},offsetTop:0}},created:function(){this.$store.commit("documentTitle","限时秒杀"),this.getList(),this.addRecord()},components:{Scroll:a.default},mounted:function(){window.addEventListener("scroll",this.handleScroll)},methods:{addRecord:function(){var e={terminalType:5,pageuri:"index/hotsale"};this.$store.state.ajaxObj.comAjax(this.$store.state.ajaxObj.API.addRecord,e,this.addRecordBack,this)},addRecordBack:function(e){},locationHref:function(){return this.keyId=this.getCookie("hotsale"),"1"!=this.keyId&&(window.location.href=location.href,void this.setCookie("hotsale","1"))},getBuyGood:function(e){this.$router.push({path:"/index/goodsDetali/id/"+e+"?memberId="+this.$route.query.memberId+"&isLimit=1"})},getToday:function(){this.type=1,this.xuanzhong=0,this.getList()},getTomorrow:function(){this.type=2,this.xuanzhong=1,this.getList()},remind:function(e,t,o,i,s,a){this.curTargetS=s,this.curTargetSon=a,this.curTargetSm=i,1==this.type&&(this.togetherHour=t),2==this.type&&(this.togetherHour=e);var r={togetherId:o,togetherHourTimeId:this.togetherHour};this.$store.state.ajaxObj.comAjax(this.$store.state.ajaxObj.API.addTogetherLimitRemind,r,this.remindBack)},remindBack:function(e){console.log(e),e.ok&&(this.$toast("秒杀提醒成功"),1==this.type?this.$set(this.curObj[this.curTargetSm].togetherProducts[this.curTargetS],"isAddTogetherLimitRemind",1):this.$set(this.curObj[this.curTargetSm].togetherProducts[this.curTargetSon],"isAddTogetherLimitRemind",1))},moveRemind:function(e,t,o,i,s,a){console.log(e),console.log(t),this.curTargetS=s,this.curTargetSm=i,this.curTargetSon=a,console.log(i),1==this.type&&(this.togetherHour=t),2==this.type&&(this.togetherHour=e),console.log(this.type);var r={togetherId:o,togetherHourTimeId:this.togetherHour};console.log(r),this.$store.state.ajaxObj.comAjax(this.$store.state.ajaxObj.API.addTogetherLimitRemind,r,this.moveRemindBack)},moveRemindBack:function(e){console.log(e),e.ok&&(this.$toast("取消秒杀提醒"),1==this.type?this.$set(this.curObj[this.curTargetSm].togetherProducts[this.curTargetS],"isAddTogetherLimitRemind",0):this.$set(this.curObj[this.curTargetSm].togetherProducts[this.curTargetSon],"isAddTogetherLimitRemind",0))},getList:function(){var e={type:this.type};this.$store.state.ajaxObj.comAjax(this.$store.state.ajaxObj.API.limitTimeProducts,e,this.getListBack)},getListBack:function(e){console.log(123),this.curObj=e.result,console.log(e.result),this.shareData.url="http://ol-site.olquan.cn/weixin/auth?recId="+this.getCookie("memberId")+"&view="+encodeURIComponent(CUR_URLBACK+"index/hotsale"),this.tryWeixinShare()},handleScroll:function(){document.body.scrollHeight;this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,this.scrollTop>this.offsetTop?this.searchBarFixed=!0:this.searchBarFixed=!1,this.scrollTop>600?this.showTop=!0:this.showTop=!1;window.innerHeight},tryWeixinShare:function(){var e={url:location.href,callback:""};this.$store.state.ajaxObj.comAjax(this.$store.state.ajaxObj.API.weixinShare,e,this.shareBack,this)},shareBack:function(e){this.wxShareFun(e.result,this.shareData)}},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),this.setCookie("hotsale","")}}},1061:function(e,t,o){t=e.exports=o(4)(),t.push([e.id,".hotsale[data-v-9a9d6bc0]{background:#fff}.hotsale .saletop[data-v-9a9d6bc0]{font-size:.28rem;background:#fd89b2;overflow:hidden;color:#fff;text-align:center;line-height:.88rem}.hotsale .saletop .sale-t-l[data-v-9a9d6bc0],.hotsale .saletop .sale-t-r[data-v-9a9d6bc0]{width:50%;float:left}.hotsale .saletop .back[data-v-9a9d6bc0]{background:#ed0477}.hotsale .timelist[data-v-9a9d6bc0]{height:1.18rem}.hotsale .timelist .timetop[data-v-9a9d6bc0]{text-align:center;font-size:.4rem;padding-top:.24rem;color:#fd89b2}.hotsale .timelist .timetop img[data-v-9a9d6bc0]{display:inline-block;width:.3rem;height:.3rem;margin-top:-.07rem;vertical-align:middle}.hotsale .timelist .timebot[data-v-9a9d6bc0]{text-align:center;margin-top:.2rem;font-size:.3rem;color:#333}.hotsale .goods-name[data-v-9a9d6bc0]{overflow:hidden;position:relative}.hotsale .goods-name .tagImg[data-v-9a9d6bc0]{position:absolute;top:.2rem;width:.8rem;left:.5rem}.hotsale .goods-name .tagImg img[data-v-9a9d6bc0]{display:block;width:100%}.hotsale .goods-name .food[data-v-9a9d6bc0]{width:100%;overflow:hidden;background:#fff;float:left}.hotsale .goods-name .food .fodImg[data-v-9a9d6bc0]{width:40%;position:relative;border-radius:.05rem;height:2.8rem;float:left;display:flex;display:-moz-flex;display:-ms-flexbox;-webkit-box-pack:center;-moz-box-pack:center;-ms-flex-align:center;-moz-align-items:center;align-items:center}.hotsale .goods-name .food .fodImg .isSold[data-v-9a9d6bc0]{display:block;position:absolute;left:50%;margin-left:-.9rem;top:50%;margin-top:-.9rem;height:1.8rem;width:1.8rem}.hotsale .goods-name .food .fodImg img[data-v-9a9d6bc0]{display:block;width:100%}.hotsale .goods-name .food .fodName[data-v-9a9d6bc0]{float:left;width:57%;margin-left:.2rem;font-size:.28rem;line-height:.38rem;word-wrap:break-word}.hotsale .goods-name .food .fodName .productName .tagName[data-v-9a9d6bc0]{font-style:normal;color:#fa006a;border:.01rem solid #fa006a;border-radius:.05rem;font-size:.2rem;margin-right:.1rem;line-height:.32rem}.hotsale .goods-name .food .fodName .gotry[data-v-9a9d6bc0]{display:flex;display:-ms-flexbox;display:-moz-flex;-ms-flex-pack:justify;justify-content:space-between;-moz-box-pack:space-between;-webkit--moz-box-pack:space-between}.hotsale .goods-name .food .fodName .gotry .spebot[data-v-9a9d6bc0]{display:inline-block;width:1.4rem;height:.5rem;color:#fff;background:#fd89b2;text-align:center;border-radius:.05rem;padding-top:.12rem}.hotsale .goods-name .food .fodName .gotry .spebot .rowtop[data-v-9a9d6bc0]{display:inline-block;width:.15rem;height:.24rem;vertical-align:middle;margin-left:.05rem;margin-top:-.03rem}.hotsale .goods-name .food .fodName .gotry .spebot img[data-v-9a9d6bc0]{width:.32rem;height:.32rem;margin-top:.04rem;margin-right:.1rem;display:inline-block;vertical-align:top}.hotsale .goods-name .food .fodName .progressNum[data-v-9a9d6bc0]{float:right;margin-top:.28rem;color:#ed0477;font-size:.24rem}.hotsale .goods-name .food .fodName .progress[data-v-9a9d6bc0]{width:2.7rem;height:.32rem;margin-top:.3rem;float:left;position:relative}.hotsale .goods-name .food .fodName .progress .number[data-v-9a9d6bc0]{width:100%;height:100%;text-align:center;position:absolute;left:0;top:0;z-index:1111;color:#fff;font-size:.16rem;line-height:.32rem}.hotsale .goods-name .food .fodName .progress .use[data-v-9a9d6bc0]{position:absolute;left:0;top:0;height:.32rem;width:100%;border-radius:.34rem;border:.01rem solid #ed0477;line-height:.34rem;text-align:center;font-size:.24rem;color:#fff;background:#fd89b2;z-index:333}.hotsale .goods-name .food .fodName .progress .bei[data-v-9a9d6bc0]{position:absolute;width:100%;height:.34rem;border-radius:.34rem;overflow:hidden;z-index:444}.hotsale .goods-name .food .fodName .progress .bei p[data-v-9a9d6bc0]{height:.32rem;border:.01rem solid #ed0477;background:#ed0477}.hotsale .goods-name .food .fodName .specialpro[data-v-9a9d6bc0]{width:3.4rem}",""])},1388:function(e,t,o){var i=o(1061);"string"==typeof i&&(i=[[e.id,i,""]]);o(5)(i,{});i.locals&&(e.exports=i.locals)},1493:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"hotsale"},[o("Linking"),e._v(" "),o("div",{staticClass:"saletop"},[o("p",{staticClass:"sale-t-l",class:{back:0==e.xuanzhong},on:{click:e.getToday}},[e._v("今日秒杀")]),e._v(" "),o("p",{staticClass:"sale-t-r",class:{back:1==e.xuanzhong},on:{click:e.getTomorrow}},[e._v("明日预告")])]),e._v(" "),e._l(e.curObj,function(t,i){return o("div",[o("div",{directives:[{name:"show",rawName:"v-show",value:1!=e.xuanzhong,expression:"xuanzhong!=1"}],staticClass:"timelist"},[o("div",{directives:[{name:"show",rawName:"v-show",value:1==t.type,expression:"item.type==1"}],staticClass:"timetop"},[o("img",{attrs:{src:e.shengTimeImg}}),e._v("\n\t\t\t\t"+e._s(t.hourTime)+" 即将开始\n\t\t\t")]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:2==t.type,expression:"item.type==2"}],staticClass:"timetop",staticStyle:{color:"#ed0477"}},[o("img",{attrs:{src:e.dianImg}}),e._v("\n\t\t\t\t"+e._s(t.hourTime)+"正在秒杀\n\t\t\t")]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:1==t.type,expression:"item.type==1"}],staticClass:"timebot"},[e._v("\n\t\t\t\t距开始还剩："),o("scroll",{attrs:{Time:t.plusTime}})],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:2==t.type,expression:"item.type==2"}],staticClass:"timebot"},[e._v("\n\t\t\t\t距结束还剩："),o("scroll",{attrs:{Time:t.plusTime}})],1)]),e._v(" "),e._l(t.togetherProducts,function(s,a){return o("div",{staticClass:"goods-name"},[o("div",{staticStyle:{padding:".20rem .24rem",overflow:"hidden","border-bottom":".01rem solid #ddd"}},[o("div",{staticClass:"food"},[o("div",{staticClass:"fodImg",on:{click:function(t){e.getBuyGood(s.togetherId)}}},[o("img",{attrs:{src:s.productImage}}),e._v(" "),o("img",{directives:[{name:"show",rawName:"v-show",value:0==s.plusPercent,expression:"itemSon.plusPercent==0"}],staticClass:"isSold",attrs:{src:e.soldImg}})]),e._v(" "),o("div",{staticClass:"fodName"},[o("p",{staticClass:"productName",staticStyle:{height:".76rem",overflow:"hidden"},on:{click:function(t){e.getBuyGood(s.togetherId)}}},[o("i",{directives:[{name:"show",rawName:"v-show",value:""!=s.tagName&&1!=s.togetherTagType,expression:"itemSon.tagName!='' && itemSon.togetherTagType!=1"}],staticClass:"tagName"},[e._v(e._s(s.tagName))]),e._v(e._s(s.productName))]),e._v(" "),o("div",{staticStyle:{overflow:"hidden","padding-bottom":".85rem"},on:{click:function(t){e.getBuyGood(s.togetherId)}}},[o("div",{directives:[{name:"show",rawName:"v-show",value:2==t.type,expression:"item.type==2"}],staticClass:"progressNum"},[e._v("\n\t\t\t\t\t\t\t\t已抢"+e._s(s.limitBuyedCount)+"件\n\t\t\t\t\t\t\t")]),e._v(" "),o("div",{staticClass:"progress",class:{specialpro:2!=t.type}},[o("p",{directives:[{name:"show",rawName:"v-show",value:2==t.type,expression:"item.type==2"}],staticClass:"use"}),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:2==t.type,expression:"item.type==2"}],staticClass:"number"},[e._v(e._s(100-s.plusPercent)+"%")]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:2==t.type,expression:"item.type==2"}],staticClass:"bei"},[o("p",{style:{width:100-s.plusPercent+"%"}})]),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:2!=t.type&&0==e.xuanzhong,expression:"item.type!=2 && xuanzhong==0"}],staticStyle:{color:"#FD89B2"}},[e._v("限量"+e._s(s.limitStore)+"件 | "+e._s(t.hourTime)+"开抢")]),e._v(" "),o("p",{directives:[{name:"show",rawName:"v-show",value:2!=t.type&&1==e.xuanzhong,expression:"item.type!=2 && xuanzhong==1"}],staticStyle:{color:"#FD89B2","font-size":".24rem",width:"2.90rem"}},[e._v("限量"+e._s(s.limitStore)+"件 | "+e._s(s.hourTime)+"开抢")])])]),e._v(" "),o("div",{staticClass:"gotry"},[o("span",{staticStyle:{"font-size":".24rem",color:"#ed0276","line-height":".60rem"}},[e._v("￥\n\t\t\t\t\t\t\t\t"),o("b",{staticStyle:{"font-size":".36rem"}},[e._v(e._s(s.price))]),e._v(" "),o("i",{staticStyle:{"font-style":"normal","text-decoration":"line-through",color:"#999"}},[e._v("￥"+e._s(s.marketPrice))])]),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:0==s.isAddTogetherLimitRemind&&2!=t.type&&0==e.showBuy,expression:"itemSon.isAddTogetherLimitRemind==0 && item.type!=2 && showBuy==false"}],staticClass:"spebot specialBot",on:{click:function(o){e.remind(s.togetherHourTimeId,t.togetherHourTimeId,s.togetherId,i,s.curIndex,a)}}},[o("img",{attrs:{src:e.colckImg}}),e._v("提醒我")]),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:1==s.isAddTogetherLimitRemind&&2!=t.type||1==e.showBuy,expression:"itemSon.isAddTogetherLimitRemind==1 && item.type!=2 || showBuy==true"}],staticClass:"spebot",staticStyle:{background:"#dcdcdc"},on:{click:function(o){e.moveRemind(s.togetherHourTimeId,t.togetherHourTimeId,s.togetherId,i,s.curIndex,a)}}},[o("img",{attrs:{src:e.colckImg}}),e._v("已提醒")]),e._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:2==t.type,expression:"item.type==2"}],staticClass:"spebot",staticStyle:{background:"#ed0477"},on:{click:function(t){e.getBuyGood(s.togetherId)}}},[e._v("马上抢"),o("img",{staticClass:"rowtop",attrs:{src:e.rowtopImg}})])])])])]),e._v(" "),o("div",{staticClass:"tagImg"},[o("img",{directives:[{name:"show",rawName:"v-show",value:2!=s.togetherTagType,expression:"itemSon.togetherTagType!=2"}],attrs:{src:s.tagLogo}})])])})],2)})],2)},staticRenderFns:[]}}});