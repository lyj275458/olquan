webpackJsonp([52,61],{615:function(e,t,s){s(1424);var i=s(2)(s(751),s(1538),"data-v-4fbddd1e",null);e.exports=i.exports},751:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{list:["全部","申请中","已同意","已拒绝"],speListAgree:0,actstartImg:"/static/images/actstart.png",isSureOrNot:!1,isSure:!1,isMore:!0,isCilck:!0,applyList:[],memList:[],indexId:"",applyId:"",realName:"",agreeListSpe:!1,nickName:"",status:"",pageObj:{page:1},shareData:{title:"",description:"",url:"",picURL:"",hide:!0,share:!0}}},components:{},watch:{},created:function(){void 0==this.$route.query.memberId&&(this.$route.query.memberId=""),this.getApplyList(),this.getMember(),this.$store.commit("documentTitle","申请列表")},computed:{},mounted:function(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("scroll",this.xuanfuScroll),this.addWeixinShare()},methods:{xuanfuScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,t=document.querySelector(".agreeListTop").offsetTop;e>t?this.agreeListSpe=!0:this.agreeListSpe=!1,e<45&&(this.agreeListSpe=!1)},getMember:function(){var e={};this.$store.state.ajaxObj.comAjax(this.$store.state.ajaxObj.API.getMember,e,this.getMemberBack,this)},getMemberBack:function(e){this.memList=e.result},argeeApplySure:function(e,t,s,i){this.realName=e,this.nickName=t,this.isSureOrNot=!0,this.applyId=s,this.indexId=i},cancelSure:function(){this.isSureOrNot=!1,this.isSure=!1},agreeApply:function(){this.isCilck=!1;var e={recordId:this.applyId,status:1};this.$store.state.ajaxObj.comAjax(this.$store.state.ajaxObj.API.doAudit,e,this.agreeApplyBack,this)},agreeApplyBack:function(e){this.isCilck=!0,0==e.code?(this.isSureOrNot=!1,this.$set(this.applyList[this.indexId],"status",1)):(this.isSureOrNot=!1,this.$toast(e.message,1e3))},refuseApplySure:function(e,t,s,i){this.realName=e,this.nickName=t,this.isSure=!0,this.applyId=s,this.indexId=i},refuseApply:function(){this.isCilck=!1;var e={recordId:this.applyId,status:2};this.$store.state.ajaxObj.comAjax(this.$store.state.ajaxObj.API.doAudit,e,this.refuseApplyBack,this)},refuseApplyBack:function(e){this.isCilck=!0,0==e.code?(this.isSure=!1,this.$set(this.applyList[this.indexId],"status",2)):(this.isSureOrNot=!1,this.$toast(e.message,1e3))},getApplyList:function(e){var t={status:e,page:1,row:10};this.$store.state.ajaxObj.comAjax(this.$store.state.ajaxObj.API.inviteRecords,t,this.getApplyListBack,this)},getApplyListBack:function(e){0!=e.code?this.$toast(e.message,1e3):this.applyList=e.result},getDifferent:function(e){this.pageObj.page=1,this.isMore=!0,this.speListAgree=e,this.status=e-1,this.status<0&&(this.status=""),this.getApplyList(this.status)},handleScroll:function(){var e=document.body.scrollHeight;this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;var t=window.innerHeight;if(this.scrollTop+t>=e-200&&this.isMore){this.isMore=!1;var s={page:this.pageObj.page+1,rows:10,status:this.status};this.pageObj.page=this.pageObj.page+1,this.$store.state.ajaxObj.comAjax(this.$store.state.ajaxObj.API.inviteRecords,s,this.getListMoreBack)}},getListMoreBack:function(e){e.result.data.length<10?this.isMore=!1:this.isMore=!0;for(var t=0;t<e.result.length;t++)this.applyList.push(e.result[t])},addWeixinShare:function(){var e={url:location.href,callback:""};this.$store.state.ajaxObj.comAjax(this.$store.state.ajaxObj.API.weixinShare,e,this.shareBack,this)},shareBack:function(e){"fail"==e.result&&(this.shareData.share=!0),this.wxShareFun(e.result,this.shareData)}},destroyed:function(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("scroll",this.xuanfuScroll)}}},1092:function(e,t,s){t=e.exports=s(4)(),t.push([e.id,".agreement .agreeListTopSpe[data-v-4fbddd1e]{position:fixed;left:0;top:0;width:100%}.agreement .agreeListTop[data-v-4fbddd1e]{background:#fff;z-index:999;font-size:.32rem;color:#777;line-height:.9rem;border-bottom:.01rem solid #e1e1e1}.agreement .agreeListTop ul[data-v-4fbddd1e]{position:relative;left:0;top:0;padding:0 .64rem;display:flex;display:-ms-flexbox;display:-moz-flex;-ms-flex-pack:justify;justify-content:space-between;-moz-box-pack:space-between;webkit--moz-box-pack:space-between}.agreement .agreeListTop .speAgreeMent[data-v-4fbddd1e]{border-bottom:.04rem solid #e50f72;color:#e50f72}.agreement .applyList[data-v-4fbddd1e]{background:#fff;margin-bottom:.2rem;padding:.26rem .7rem .26rem .3rem;overflow:hidden;position:relative}.agreement .applyList .agreeOrNot[data-v-4fbddd1e]{position:absolute;right:.3rem;padding-top:.2rem;top:.24rem;font-size:0}.agreement .applyList .agreeOrNot p[data-v-4fbddd1e]{display:inline-block;font-size:.28rem;text-align:center;width:1rem;line-height:.52rem}.agreement .applyList .agreeOrNot .agree[data-v-4fbddd1e]{background:#e50f72;color:#fff;border-radius:.26rem}.agreement .applyList .agreeOrNot .agreeNo[data-v-4fbddd1e]{border:.01rem solid #aaa;line-height:.5rem;width:.98rem;color:#333;border-radius:.26rem;margin-left:.18rem}.agreement .applyList .listLeft[data-v-4fbddd1e]{float:left;width:.9rem;height:.9rem;border-radius:50%}.agreement .applyList .listLeft img[data-v-4fbddd1e]{display:block;width:100%;height:100%;border-radius:50%}.agreement .applyList .listCent[data-v-4fbddd1e]{float:left;font-size:.3rem;color:#333;margin-left:.12rem}.agreement .applyList .listCent .top[data-v-4fbddd1e]{line-height:.46rem}.agreement .applyList .listCent .bot[data-v-4fbddd1e]{margin-top:.12rem;font-size:.26rem;color:#777}.agreement .applyList .listRight[data-v-4fbddd1e]{float:right;font-size:.28rem;color:#777;line-height:.9rem}.agreement .tishiOut[data-v-4fbddd1e]{position:fixed;left:0;top:0;height:100%;width:100%;background:rgba(0,0,0,.5);z-index:1002}.agreement .tishi[data-v-4fbddd1e]{position:fixed;width:5rem;margin-top:4rem;background:#fff;left:50%;margin-left:-2.5rem;z-index:99999;border-radius:.1rem;border:.01rem solid #e5e5e5;overflow:hidden}.agreement .tishi .tiCen[data-v-4fbddd1e]{padding:.2rem .5rem;line-height:.56rem;text-align:center;font-size:.28rem;border-bottom:.01rem solid #f2f2f2}.agreement .tishi .tiBots[data-v-4fbddd1e]{overflow:hidden;font-size:.26rem;text-align:center;line-height:1rem}.agreement .tishi .tiBots .tiBleft[data-v-4fbddd1e]{float:left;width:40%;border-right:.01rem solid #f2f2f2}.agreement .tishi .tiBots .tiBright[data-v-4fbddd1e]{float:left;width:59.5%;color:#e50f72}",""])},1424:function(e,t,s){var i=s(1092);"string"==typeof i&&(i=[[e.id,i,""]]);s(5)(i,{});i.locals&&(e.exports=i.locals)},1538:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"agreement"},[s("div",{staticStyle:{"line-height":".91rem",background:"#fff","text-align":"center","font-size":".32rem"}},[e._v("【您还剩"),s("span",{staticStyle:{color:"#E5006E"}},[e._v(e._s(e.memList.inviteSupervisorCount))]),e._v("个邀请名额】")]),e._v(" "),s("div",{staticClass:"agreeListTop",class:{agreeListTopSpe:1==e.agreeListSpe}},[s("ul",e._l(e.list,function(t,i){return s("li",{class:{speAgreeMent:e.speListAgree==i},on:{click:function(t){e.getDifferent(i)}}},[e._v(e._s(t))])}))]),e._v(" "),e._l(e.applyList,function(t,i){return s("div",{staticClass:"applyList"},[s("div",{staticClass:"listLeft"},[s("img",{attrs:{src:t.logo}})]),e._v(" "),s("div",{staticClass:"listCent"},[s("p",{staticClass:"top"},[e._v(e._s(t.realName)+"("+e._s(t.nickName)+")")]),e._v(" "),s("p",{staticClass:"bot"},[e._v("手机号:"+e._s(t.mobile))])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.status,expression:"item.status==1"}],staticClass:"listRight"},[s("span",[e._v("已同意")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2==t.status,expression:"item.status==2"}],staticClass:"listRight"},[s("span",[e._v("已拒绝")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.status,expression:"item.status==0"}],staticClass:"agreeOrNot"},[s("p",{staticClass:"agree",on:{click:function(s){e.argeeApplySure(t.realName,t.nickName,t.recordId,i)}}},[e._v("\n\t\t\t\t同意\n\t\t\t")]),e._v(" "),s("p",{staticClass:"agreeNo",on:{click:function(s){e.refuseApplySure(t.realName,t.nickName,t.recordId,i)}}},[e._v("\n\t\t\t\t拒绝\n\t\t\t")])])])}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isSureOrNot,expression:"isSureOrNot"}],staticClass:"tishiOut",on:{touchmove:function(e){e.preventDefault()}}},[s("div",{staticClass:"tishi"},[s("div",{staticClass:"tiCen"},[s("p",[e._v("\n\t\t\t\t\t您确定要通过"+e._s(e.realName)+"("+e._s(e.nickName)+")的申请吗？\n\t\t\t\t")])]),e._v(" "),s("div",{staticClass:"tiBots"},[s("p",{staticClass:"tiBleft",on:{click:e.cancelSure}},[e._v("取消")]),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.isCilck,expression:"isCilck"}],staticClass:"tiBright",on:{click:e.agreeApply}},[e._v("确定")]),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:!e.isCilck,expression:"!isCilck"}],staticClass:"tiBright"},[e._v("确定")])])])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isSure,expression:"isSure"}],staticClass:"tishiOut",on:{touchmove:function(e){e.preventDefault()}}},[s("div",{staticClass:"tishi"},[s("div",{staticClass:"tiCen"},[s("p",[e._v("\n\t\t\t\t\t您确定要拒绝"+e._s(e.realName)+"("+e._s(e.nickName)+")的申请吗？\n\t\t\t\t")])]),e._v(" "),s("div",{staticClass:"tiBots"},[s("p",{staticClass:"tiBleft",on:{click:e.cancelSure}},[e._v("取消")]),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.isCilck,expression:"isCilck"}],staticClass:"tiBright",on:{click:e.refuseApply}},[e._v("确定")]),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:!e.isCilck,expression:"!isCilck"}],staticClass:"tiBright"},[e._v("确定")])])])])],2)},staticRenderFns:[]}}});